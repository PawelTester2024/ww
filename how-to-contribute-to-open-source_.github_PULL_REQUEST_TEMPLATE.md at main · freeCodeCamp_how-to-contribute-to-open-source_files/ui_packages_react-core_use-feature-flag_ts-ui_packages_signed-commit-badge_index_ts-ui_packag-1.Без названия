"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_react-core_use-feature-flag_ts-ui_packages_signed-commit-badge_index_ts-ui_packag-128711"],{26855:(e,t,i)=>{let n;function r(){if(!n)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return n}function s(){return n?.locale??"en-US"}i.d(t,{Kd:()=>s,dU:()=>r}),function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{n=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},4412:(e,t,i)=>{i.d(t,{C:()=>s,x:()=>r});var n=i(86283);let r=n.n4?.readyState==="interactive"||n.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.n4?.addEventListener("DOMContentLoaded",()=>{e()})}),s=n.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.iG?.addEventListener("load",e)})},46426:(e,t,i)=>{i.d(t,{$:()=>c,c:()=>d});var n=i(15205),r=i(26855),s=i(86283);function a(){let e=(0,r.dU)().featureFlags,t=e.map(e=>e.toUpperCase());return new Set(t)}let o=s.W6?a:(0,n.Z)(a);function d(e){return o().has(e.toUpperCase())}let c={isFeatureEnabled:d}},2048:(e,t,i)=>{i.d(t,{g:()=>r,y:()=>s});var n=i(17891);let r=()=>n.M()?.enabled_features??{},s=e=>!!r()[e]},53729:(e,t,i)=>{i.d(t,{A7:()=>d,ko:()=>o,q1:()=>a});var n=i(15205),r=i(86283);let s=(0,n.Z)(function(){return r.n4?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),a=(0,n.Z)(function(){return r.n4?.head?.querySelector('meta[name="is-private-instance"]')?.content==="true"}),o=(0,n.Z)(function(){return"enterprise"===s()}),d="webpack"},44544:(e,t,i)=>{i.d(t,{Z:()=>a,_:()=>o});var n=i(86283),r=i(71643);let s=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function a(e,t={throwQuotaErrorsOnSet:!1},i=n.iG,a=e=>e,o=e=>e){let d;try{if(!i)throw Error();d=i[e]||new s}catch{d=new s}let{throwQuotaErrorsOnSet:c}=t;function l(e){t.sendCacheStats&&(0,r.b)({incrementKey:e})}function u(e){try{if(d.removeItem(e),t.ttl){let t=`${e}:expiry`;d.removeItem(t)}}catch(e){}}return{getItem:function(e,t=new Date().getTime()){try{let i=d.getItem(e);if(!i)return null;let n=`${e}:expiry`,r=Number(d.getItem(n));if(r&&t>r)return u(e),u(n),l("SAFE_STORAGE_VALUE_EXPIRED"),null;return l("SAFE_STORAGE_VALUE_WITHIN_TTL"),a(i)}catch(e){return null}},setItem:function(e,i,n=new Date().getTime()){try{if(d.setItem(e,o(i)),t.ttl){let i=`${e}:expiry`,r=n+t.ttl;d.setItem(i,r.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:u,clear:d.clear,key:d.key,get length(){return d.length}}}function o(e){return a(e,{throwQuotaErrorsOnSet:!1},window,JSON.parse,JSON.stringify)}},39629:(e,t,i)=>{i.d(t,{LS:()=>s,cl:()=>a,rV:()=>r});var n=i(44544);let{getItem:r,setItem:s,removeItem:a}=(0,n.Z)("sessionStorage")},91495:(e,t,i)=>{i.d(t,{G:()=>j});var n=i(85893),r=i(63309),s=i(73290),a=i(42483),o=i(59148),d=i(98833),c=i(97011),l=i(53729);function u({reason:e,isViewer:t,hasSignature:i,verificationStatus:r,signatureType:a,signedByGitHub:o,keyExpired:d,keyRevoked:u}){let h=d?(0,n.jsxs)(c.Z,{children:[" The key has expired",u&&(0,n.jsx)(c.Z,{children:" and has been revoked"}),"."]}):u?(0,n.jsx)(c.Z,{children:" The key has been revoked."}):(0,n.jsx)(n.Fragment,{});if("unverified"===r){if(i&&"GPGVERIFY_UNAVAILABLE"===e)return(0,n.jsx)(c.Z,{children:"The commit signature verification service is not available"});if(!i)return(0,n.jsx)(c.Z,{children:"This commit is not signed, but one or more authors requires that any commit attributed to them is signed."});switch(e){case"INVALID":return(0,n.jsx)(c.Z,{children:"The signature in this commit could not be verified. Someone may be trying to trick you."});case"MALFORMED_SIG":return(0,n.jsx)(c.Z,{children:"We were unable to parse the signature in this commit."});case"UNKNOWN_KEY":if(t)return(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(s.Z,{href:"/settings/keys",children:["Upload your public signing ","SshSignature"===a?"SSH":"GPG"," key"]})," to verify your signature."]});return(0,n.jsx)(c.Z,{children:"This user has not yet uploaded their public signing key."});case"BAD_EMAIL":return(0,n.jsx)(c.Z,{children:"The email in this signature doesn\u2019t match the committer email."});case"UNVERIFIED_EMAIL":if(t)return(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(s.Z,{href:"/settings/emails",children:"Verify your email address"})," to verify your signature."]});return(0,n.jsx)(c.Z,{children:"The committer email address is not verified."});case"NO_USER":return(0,n.jsx)(c.Z,{children:"No user is associated with the committer email."});case"UNKNOWN_SIG_TYPE":return(0,n.jsx)(c.Z,{children:"GitHub supports GPG and S/MIME signatures. We don't know what type of signature this is."});case"GPGVERIFY_ERROR":return(0,n.jsx)(c.Z,{children:"We had a problem verifying this signature. Please try again later."});case"NOT_SIGNING_KEY":return(0,n.jsx)(c.Z,{children:"The key that signed this doesn't have usage flags that allow signing."});case"EXPIRED_KEY":return(0,n.jsx)(c.Z,{children:"The key that signed this is expired."});case"OCSP_ERROR":return(0,n.jsx)(c.Z,{children:"We had a problem checking for revoked certificates. Please try again later."});case"OCSP_REVOKED":return(0,n.jsx)(c.Z,{children:"One or more certificates in the chain has been revoked."});case"BAD_CERT":return(0,n.jsx)(c.Z,{children:"The signing certificate or its chain could not be verified."});case"GPGVERIFY_UNAVAILABLE":case"UNSIGNED":return(0,n.jsx)(c.Z,{children:"We were unable to verify this signature."})}}else if("partially_verified"===r)return o?(0,l.ko)()?(0,n.jsxs)(c.Z,{children:["This commit was created on GitHub Enterprise Server and signed with a"," ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]}):(0,n.jsxs)(c.Z,{children:["This commit was created on GitHub.com and signed with GitHub's"," ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]}):(0,n.jsxs)(c.Z,{children:["This commit was signed with the committer's ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]});else if("verified"===r)switch(e){case"VALID":if(!o)return(0,n.jsxs)(c.Z,{children:["This commit was signed with the committer's ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]});if((0,l.ko)())return(0,n.jsxs)(c.Z,{children:["This commit was created on GitHub Enterprise Server and signed with a"," ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]});return(0,n.jsxs)(c.Z,{children:["This commit was created on GitHub.com and signed with GitHub's"," ",(0,n.jsx)(c.Z,{sx:{fontWeight:"bold"},children:"verified signature"}),".",h]});case"OCSP_PENDING":return(0,n.jsx)(c.Z,{children:"This commit was signed with a verified signature, though we're still working on certificate revocation checking."})}return(0,n.jsx)(c.Z,{})}try{u.displayName||(u.displayName="ReasonLabel")}catch{}function h({icon:e,iconColor:t,reason:i,isViewer:r,hasSignature:s,verificationStatus:o,signatureType:c,signedByGitHub:l,keyExpired:h,keyRevoked:g}){return(0,n.jsxs)(a.Z,{sx:{display:"flex",p:2},"data-testid":"signed-commit-header",children:[(0,n.jsx)(a.Z,{sx:{pr:2},children:(0,n.jsx)(d.Z,{icon:e,sx:{color:t}})}),(0,n.jsx)(a.Z,{sx:{fontSize:1,flexGrow:1},children:(0,n.jsx)(u,{reason:i,isViewer:r,hasSignature:s,verificationStatus:o,signatureType:c,signedByGitHub:l,keyExpired:h,keyRevoked:g})})]})}try{h.displayName||(h.displayName="SignedCommitHeader")}catch{}var g=i(85529),f=i(57294);function m({keyHex:e,signatureType:t,signer:i,showPartiallyVerifiedMessage:o,signingLinkComponent:l,keyExpired:u,keyRevoked:h}){return(0,n.jsx)(a.Z,{sx:{display:"flex"},"data-testid":"signed-commit-footer",children:(0,n.jsx)(a.Z,{sx:{fontSize:0,flexGrow:1,maxWidth:"100%"},children:o&&i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{sx:{py:3},children:(0,n.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,n.jsx)(f.O,{src:i.avatar_url,size:20,sx:{mr:2,ml:3}}),(0,n.jsxs)(a.Z,{sx:{flex:1},children:[(0,n.jsx)(s.Z,{href:`/${i.login}`,sx:{fontSize:0,color:"fg.default",fontWeight:"bold"},children:i.login}),(0,n.jsxs)(c.Z,{children:["'s contribution has been verified via ","SshSignature"===t?"SSH":"GPG"," key."]})]})]})}),(0,n.jsxs)(a.Z,{sx:{backgroundColor:"attention.subtle",display:"flex",p:3},children:[(0,n.jsx)(d.Z,{icon:g.InfoIcon,sx:{mr:2}}),"We cannot verify signatures from co-authors, and some of the co-authors attributed to this commit require their commits to be signed."]})]}):(0,n.jsxs)(n.Fragment,{children:[i?(0,n.jsx)(a.Z,{sx:{px:3,pt:3},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.O,{src:i.avatar_url,size:20,sx:{mr:2}}),(0,n.jsx)(s.Z,{href:`/${i.login}`,sx:{fontSize:1,color:"fg.default",fontWeight:"bold"},children:i.login})]})}):(0,n.jsx)(n.Fragment,{}),(0,n.jsxs)(a.Z,{sx:{p:3,flexDirection:"column"},children:[e&&(0,n.jsxs)(a.Z,{children:["SshSignature"===t?"SSH Key Fingerprint:":"GPG Key ID:"," ",(0,n.jsx)(c.Z,{sx:{color:"fg.muted"},children:e})]}),e&&(u||h)&&(0,n.jsxs)(a.Z,{sx:{py:1},children:[u&&(0,n.jsx)(r.Z,{sx:{mr:1},variant:"accent",children:"Expired"}),h&&(0,n.jsx)(r.Z,{variant:"attention",children:"Revoked"})]}),l]})]})})})}try{m.displayName||(m.displayName="SignedCommitFooter")}catch{}function x({subject:e,issuer:t,signingLinkComponent:i}){let r,s;return e.organization&&e.organization_unit?r="O/OU":e.organization?r="O":e.organization_unit&&(r="OU"),t.organization&&t.organization_unit?s="O/OU":t.organization?s="O":t.organization_unit&&(s="OU"),(0,n.jsx)(a.Z,{sx:{display:"flex"},"data-testid":"smime-commit-footer",children:(0,n.jsxs)(a.Z,{sx:{fontSize:0,p:3},children:[(0,n.jsx)(c.Z,{sx:{fontWeight:"bold",fontSize:1},children:"Certificate subject"}),(0,n.jsxs)(a.Z,{as:"table",sx:{mb:1},children:[e.common_name&&(0,n.jsxs)(a.Z,{as:"tr",children:[(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"CN"}),(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px"},children:e.common_name})]}),e.email_address&&(0,n.jsxs)(a.Z,{as:"tr",children:[(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"emailAddress"}),(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px"},children:e.email_address})]}),r&&(0,n.jsxs)(a.Z,{as:"tr",children:[(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:r}),(0,n.jsxs)(a.Z,{as:"td",children:[e.organization,"O/OU"===r&&"/",e.organization_unit]})]})]}),(0,n.jsx)(c.Z,{sx:{fontWeight:"bold",fontSize:1},children:"Certificate issuer"}),(0,n.jsxs)(a.Z,{as:"table",sx:{mb:1},children:[t.common_name&&(0,n.jsxs)(a.Z,{as:"tr",children:[(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"CN"}),(0,n.jsx)(a.Z,{as:"td",children:t.common_name})]}),s&&(0,n.jsxs)(a.Z,{as:"tr",children:[(0,n.jsx)(a.Z,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:s}),(0,n.jsxs)(a.Z,{as:"td",children:[t.organization,"O/OU"===s&&"/",t.organization_unit]})]})]}),i]})})}try{x.displayName||(x.displayName="SmimeCommitFooter")}catch{}function p(e){var t;let i;let{hasSignature:r,isOpen:d,onDismiss:c,signature:u,verificationStatus:f}=e,{footerLabel:p,footerUrl:y}=(t=u.helpUrl,(0,l.q1)()?{footerLabel:"Learn about signing commits",footerUrl:`${t}/articles/signing-commits-using-gpg/`}:{footerLabel:"Learn about vigilant mode",footerUrl:`${t}/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits`}),j=u.signatureVerificationReason.toUpperCase(),v=u.signedByGitHub,{icon:S,icon_color:b}="unverified"===f?{icon:g.UnverifiedIcon,icon_color:"fg.muted"}:{icon:g.VerifiedIcon,icon_color:"success.fg"};"unverified"===f||v||(i={avatar_url:u.signerAvatarUrl,login:u.signerLogin});let Z=(0,n.jsx)(s.Z,{href:y,"data-testid":"signature-link",className:"Link--inTextBlock",children:p});return d?(0,n.jsx)(o.V,{onClose:c,sx:{overflowY:"auto",backgroundColor:"canvas.default",boxShadow:"none"},title:f,width:"small",renderHeader:()=>(0,n.jsxs)(a.Z,{"data-testid":"signed-commit-dialog",sx:{display:"flex",gap:2,alignItems:"flex-start",p:2,backgroundColor:"canvas.subtle",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"border.subtle"},children:[(0,n.jsx)(h,{reason:j,icon:S,iconColor:b,verificationStatus:f,isViewer:u.isViewer,hasSignature:r,signatureType:u.signatureType,signedByGitHub:v,keyExpired:u.keyExpired,keyRevoked:u.keyRevoked}),(0,n.jsx)(o.V.CloseButton,{onClose:c})]}),renderBody:()=>(0,n.jsx)(o.V.Body,{sx:{padding:0},children:"GpgSignature"===u.signatureType||"SshSignature"===u.signatureType?(0,n.jsx)(m,{keyHex:u.keyId,signatureType:u.signatureType,signer:i,showPartiallyVerifiedMessage:"partially_verified"===f,signingLinkComponent:Z,keyExpired:u.keyExpired,keyRevoked:u.keyRevoked}):"SmimeSignature"===u.signatureType&&u.signatureCertificateSubject&&u.signatureCertificateIssuer?(0,n.jsx)(x,{issuer:u.signatureCertificateIssuer,subject:u.signatureCertificateSubject,signingLinkComponent:Z}):(0,n.jsx)(a.Z,{sx:{display:"flex"},children:(0,n.jsx)(a.Z,{sx:{fontSize:0,p:3},children:Z})})})}):null}try{p.displayName||(p.displayName="SignedCommitDialog")}catch{}var y=i(67294);function j({hasSignature:e,verificationStatus:t,signature:i,badgeSize:s="small"}){let[a,o]=(0,y.useState)(!1),d=(0,y.useRef)(null);if("unsigned"===t)return(0,n.jsx)(n.Fragment,{});let c={onClick:()=>o(!0),ref:d},l={sx:{cursor:"pointer"},size:s},u="verified"===t?(0,n.jsx)(r.Z,{as:"button",variant:"success",...l,...c,children:"Verified"}):"unverified"===t?(0,n.jsx)(r.Z,{as:"button",variant:"attention",...l,...c,children:"Unverified"}):"partially_verified"===t?(0,n.jsx)(r.Z,{as:"button",variant:"success",...l,...c,children:"Partially verified"}):(0,n.jsx)(n.Fragment,{});return(0,n.jsxs)(n.Fragment,{children:[u,a&&(0,n.jsx)(p,{isOpen:a,onDismiss:()=>{o(!1),setTimeout(()=>{d.current?.focus()},0)},verificationStatus:t,signature:i,hasSignature:e})]})}try{j.displayName||(j.displayName="SignedCommitBadge")}catch{}},99484:(e,t,i)=>{i.d(t,{Ak:()=>p,CI:()=>S,Gj:()=>f,J$:()=>v,Nb:()=>b,Nt:()=>y,OE:()=>m,U6:()=>u,Wl:()=>x,XL:()=>l,jN:()=>r,pS:()=>h,sj:()=>g,wP:()=>j});var n=i(39629);let r="reload",s="soft-nav:fail",a="soft-nav:fail-referrer",o="soft-nav:referrer",d="soft-nav:marker",c="soft-nav:react-app-name";function l(){(0,n.LS)(d,"0"),(0,n.cl)(o),(0,n.cl)(s),(0,n.cl)(a),(0,n.cl)(c)}function u(e){(0,n.LS)(d,e)}function h(){(0,n.LS)(d,"0")}function g(){let e=(0,n.rV)(d);return e&&"0"!==e}function f(){return(0,n.rV)(d)}function m(){return!!x()}function x(){return(0,n.rV)(s)}function p(e){(0,n.LS)(s,e||r),(0,n.LS)(a,window.location.href)}function y(){(0,n.LS)(o,window.location.href)}function j(){return(0,n.rV)(o)||document.referrer}function v(){let e=b();e?(0,n.LS)(c,e):(0,n.cl)(c)}function S(){return(0,n.rV)(c)}function b(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}},86283:(e,t,i)=>{i.d(t,{Qg:()=>n.Qg,W6:()=>n.W6,cF:()=>n.cF,iG:()=>r.iG,n4:()=>r.n4,ssrSafeLocation:()=>r.jX,zu:()=>r.zu});var n=i(35647),r=i(73614)},73614:(e,t,i)=>{i.d(t,{iG:()=>r,jX:()=>a,n4:()=>n,zu:()=>s});let n="undefined"==typeof document?void 0:document,r="undefined"==typeof window?void 0:window,s="undefined"==typeof history?void 0:history,a="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:""}:location},35647:(e,t,i)=>{i.d(t,{Qg:()=>s,W6:()=>r,cF:()=>a});var n=i(73614);let r=void 0===n.n4,s=!r;function a(){return!!r||!!n.n4.querySelector('react-app[data-ssr="true"]')}},71643:(e,t,i)=>{i.d(t,{B:()=>h,b:()=>d});var n=i(86283),r=i(4412),s=i(53729),a=i(46426);let o=[];function d(e,t=!1,i=1){if(!0!==(0,a.c)("BROWSER_STATS_DISABLED")){if(i<0||i>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=new Date().getTime()),e.loggedIn=!!n.n4?.head?.querySelector('meta[name="user-login"]')?.content,e.staff=h(),e.bundler=s.A7,Math.random()<i&&o.push(e),t?u():l()}}let c=null;async function l(){await r.C,null==c&&(c=window.requestIdleCallback(u))}function u(){if(c=null,!o.length)return;let e=n.n4?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!e)return;let t=function(e){let t=[],i=e.map(e=>JSON.stringify(e));for(;i.length>0;)t.push(function(e){let t=e.shift(),i=[t],n=t.length;for(;e.length>0&&n<=65536;){let t=e[0].length;if(n+t<=65536){let r=e.shift();i.push(r),n+=t}else break}return i}(i));return t}(o);for(let i of t)!function(e,t){try{navigator.sendBeacon&&navigator.sendBeacon(e,t)}catch{}}(e,`{"stats": [${i.join(",")}] }`);o=[]}function h(){return!!n.n4?.head?.querySelector('meta[name="user-staff"]')?.content}n.n4?.addEventListener("pagehide",u),n.n4?.addEventListener("visibilitychange",u)},57294:(e,t,i)=>{i.d(t,{O:()=>o});var n=i(85893),r=i(67294),s=i(26012),a=i(86283);let o=(0,r.forwardRef)(function({src:e,size:t=20,...i},o){let d=(0,r.useMemo)(()=>{let i=new URL(e,a.ssrSafeLocation.origin);return i.searchParams.has("size")||i.searchParams.has("s")||i.searchParams.set("size",String(2*Number(t))),i.toString()},[e,t]);return(0,n.jsx)(s.Z,{ref:o,src:d,size:t,"data-testid":"github-avatar",...i})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}}}]);
//# sourceMappingURL=ui_packages_react-core_use-feature-flag_ts-ui_packages_signed-commit-badge_index_ts-ui_packag-128711-eac8b26c6ed8.js.map